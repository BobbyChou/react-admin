##### VasSonic
VasSonic在对页面内容请求的过程中，主要用到了以下三种方式进行优化
• 动态缓存
在VasSonic的规范中，我们可以通过插入不同的注释锚来指定模板和数据，也就是说，我们可以通过注释来定义了一个自定义的格式，对HTML文档进行分块，然后客户端在遵循规范的条件下，对页面分块后的内容进行全局或局部的缓存。
• 增量更新
有了缓存，也要有更新的机制，VasSonic通过增量更新模板，对服务器请求更少的数据，提升页面加载呈现的速度。
• 并行加载
  VasSonic使用自定义url connection，而不是原始网络连接来请求索引HTML，因此它可以提前或并行请求资源以避免等待视图初始化。在这种并行的情况下，VasSonic可以通过WebKit或Blink内核读取和呈现部分数据，而无需花费太多时间等待数据流的结束。也就是说，VasSonic在ＷebView初始化过程中时，就已经并行从服务器加载页面，降低了用户等待的过程消耗。
VasSonic的优点
在遵循VasSonic框架协议进行H5页面开发的条件，同时在应用层对网络请求和数据更新做了优化，大大提升了H5页面首屏的加载速度，提升了用户点击率和降低了页面的蹦失率。
VasSonic的缺点
VasSonic是一个Hybrid框架，在技术实现的过程中，需要服务器和客户端同时配合，侵入性较大。在客户端层面，也可以只实现并行加载，但是要完整的优化方案，还是需要前端服务器配合。
Android 端使用VasSonic 优化 X5 WebView
以下，我们在安卓端对接入腾讯TBS浏览服务X5内核的webView下使用VasSonic框架。

技术难点及解决方案：为讲商品详情页面的首屏渲染速度进行提高，先后采用多种方式进行重构。包括服务端渲染，客户端加载本地离线包，都不能达到预期效果，最终采用腾讯的开源框架VASSONIC的LOCAL SERVER模式进行重构，将页面的打开速度控制在1.4S左右。其主要原理是利用了动态缓存，增量更新以及并行加载。VASSONIC是一种跨平台开发框架，也是需要客户端服务端一起的三方配合进行开发，并且对网络请求以及数据更新做了优化，将用户的点击率提升了20%，以及将页面崩溃率降低到5%

##### 重绘和重排
- 回流：渲染树中的一部分或全部元素的尺寸、布局、隐藏等属性改变时，会引起渲染树重新构建，这就叫回流（reflow），也叫重排。比如调整窗口大小、设置字体大小、dispaly、获取实时属性offset系列、用户在input输入、激活CSS伪类:hover等等。
会导致回流的操作：
    页面首次渲染
    浏览器窗口大小发生改变
    元素尺寸或位置发生改变
    元素内容变化（文字数量或图片大小等等）
    元素字体大小变化
    添加或者删除可见的DOM元素
    激活CSS伪类（例如：:hover）
    查询某些属性或调用某些方法

如何避免
CSS:
    避免使用table布局。
    尽可能在DOM树的最末端改变class。
    避免设置多层内联样式。
    将动画效果应用到position属性为absolute或fixed的元素上。
    避免使用CSS表达式（例如：calc()）。
    
Javascript:
    避免频繁操作样式，最好一次性重写style属性，或者将样式列表定义为class并一次性更改class属性。
    避免频繁操作DOM，创建一个documentFragment，在它上面应用所有DOM操作，最后再把它添加到文档中。
    也可以先为元素设置display: none，操作结束后再把它显示出来。因为在display属性为none的元素上进行的DOM操作不会引发回流和重绘。
    避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。
    对具有复杂动画的元素使用绝对定位，使它脱离文档流，否则会引起父元素及后续元素频繁回流

##### 自定hook其实就是把useXXX方法执行以后，把方法体里的内容平铺到组件内部，我觉得这种说法对于理解自定义hook很友好
